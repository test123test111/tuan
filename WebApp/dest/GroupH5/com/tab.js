define(["libs","cUIScroll"],function(t,i){function e(t){var i={onSwitch:n};this.options=s(i,t),this.panel=this.options.panel,this.label=this.options.label,this.isScroll=this.options.isScroll,this.inited=!1,this.switch(this.options.labelSelectedIndex),this._bindEvents()}var s=$.extend,n=function(){};return e.prototype={constructor:e,_bindEvents:function(){var t=this.options;this._switchHandler=$.proxy(function(t){var i=this.label.indexOf(t.currentTarget);this.switch(i)},this),this._selectHandler=$.proxy(function(i){t.onSelect($(i.currentTarget))},this),this.label.on("click",this._switchHandler),this.panel.on("click",t.itemClass,this._selectHandler)},_unbindEvents:function(){var t=this.options;this.trigger.off(t.triggerEvent,this._showHandler),this.panel.off("click",this._selectHandler)},"switch":function(t){var e=this.options;this.options.onSwitch(),$(this.label[e.labelSelectedIndex]).removeClass(e.labelSelectedClass),$(this.label[t]).addClass(e.labelSelectedClass),$(this.panel[e.labelSelectedIndex]).hide();var s=$(this.panel[t]);if(s.show(),e.isScroll&&(s.css({overflow:"hidden","max-height":"285px","margin-bottom":"5px","margin-top":"5px"}),this.scroller=new i({wrapper:s,scroller:s.find("ul")})),this.options.labelSelectedIndex=t,this.inited){var n=s.find(e.itemClass);1==n.length&&e.onSelect(n)}this.inited=!0}},e});
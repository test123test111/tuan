define(["cBase","cUICore","cWidgetFactory","libs"],function(e,t,n){function u(e){return e===Object(e)}var r="POIWidget",i=function(){},s=null,o;o=new e.Class({__propertys__:function(){this.options={model:s,source:3,params:{},onSuccess:i,onError:i}},initialize:function(e){var t;u(e)&&(this.options=$.extend(this.options,e)),t=this.options,this.model=t.model},query:function(e,t,n){var r=this,i=r.options,s=i.params;u(e)&&(e=$.extend(s,e)),this.model.param=e,this.model.excute(function(e){(t||i.onSuccess).call(r,e)},function(e){(n||i.onError).call(r,e)},!1,r)},abort:function(){this.options.model.abort()}}),n.register({name:r,fn:o})});
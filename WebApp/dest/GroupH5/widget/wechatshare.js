define(["cBase"],function(i){function n(i){return i===Object(i)}var e,t=function(){};return e=new i.Class({__propertys__:function(){this.options={data:null,enableNative:!0,onShared:t}},share:function(i,n,e){this._invoke(n,i,e||this.options.onShared)},shareFriends:function(i){i=i||this.options.data,this.share(i,e.SHARE_APP_MESSAGE)},shareTimeline:function(i){i=i||this.options.data,this.share(i,e.SHARE_TIMELINE)},shareWeibo:function(i){i=i||this.options.data,this.share({content:i.desc,url:i.link},e.SHARE_WEIBO)},initialize:function(i){n(i)&&(this.options=$.extend(this.options,i),this.options.enableNative&&this._bindEvents())},_bindEvents:function(){var i=this;WeixinJSBridge.on("menu:share:appmessage",function(){i.shareFriends()}),WeixinJSBridge.on("menu:share:timeline",function(){i.shareTimeline()}),WeixinJSBridge.on("menu:share:weibo",function(){i.shareWeibo()})},_invoke:function(i,n,e){WeixinJSBridge.invoke(i,n,function(i){e&&e(i)})}}),e.SHARE_TIMELINE="shareTimeline",e.SHARE_APP_MESSAGE="sendAppMessage",e.SHARE_WEIBO="shareWeibo",e});
define(["TuanApp","TuanBaseView","TuanStore","text!HotelImageSlideTpl","cWidgetFactory","cCommonPageFactory","SmoothSlide"],function(t,e,n,i,o,a){var c,r,s=n.TuanDetailsStore.getInstance(),h=n.TuanImagesListStore.getInstance(),u=o.create("SmoothSlide"),d=a.create("TuanBaseView");return r=d.extend({pageid:"260003",hpageid:"261003",events:{},onCreate:function(){},onLoad:function(){var t=h.getAttr("images")||s.getAttr("images");t&&this.createSlide(t)},setHeader:function(t,e){var n=this;this.header.set({title:t+"/"+e+"å¼ ",back:!0,home:!0,view:this,events:{returnHandler:function(){n.backAction()},homeHandler:function(){n.backHome()}}})},onShow:function(){this.$el.on("touchstart",function(t){t.preventDefault()})},onHide:function(){this.$el.off("touchstart")},backAction:function(){this.back()},backHome:function(){t.tHome()},createSlide:function(t){var e,n=this,o=Lizard.P("index"),a=n.$el.find("#J_sliderWrap"),r=[],s=t&&t.length,h=function(t,i,o){e.html(o),n.setHeader(t+1,i)};if(o=o>0?o-1:0,s)for(var d=0;s>d;d++)r.push({title:t[d].title,src:t[d].large,href:"#",desc:t[d].desc});r.length&&(a.parent().parent().css("height","100%"),c=new u({container:a,source:r,itemCls:".pics_show_box_items",autoplay:0,prefetch:3,currentIndex:o,width:$("body").offset().width,tpl:i,onSwitchEnd:function(){},onSwitch:function(t,e){h(t,this.count(),e.title)},onInit:function(t){e=$(this.container).find("#J_picDesc"),h(t,this.count(),this.source[t].title)}}),this.slider=c)}})});
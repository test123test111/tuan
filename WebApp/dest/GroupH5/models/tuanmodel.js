define(["cModel","cBase","TuanStore","cUtility"],function(t,e,s,i){t.baseurl=function(t){var e={test:"soa2/10101",uat:"restapi/soa2/10101",pro:"restapi/soa2/10101"},s={test:"m.fat.ctripqa.com",uat:"m.uat.ctripqa.com",pro:"m.ctrip.com"},n=location.host,o=s.test,r=e.test;return i.isInApp()?"1"==i.isPreProduction()?(o="https"==t?"restful.m.ctrip.com":s.pro,r=e.pro):"0"==i.isPreProduction()?(o="https"==t?"restful.waptest.ctrip.com":s.test,r=e.test):"2"==i.isPreProduction()?(o=s.uat,r=e.uat):(o="https"==t?"restful.m.ctrip.com":s.pro,r=e.pro):n.match(/^(m|3g|wap)\.ctrip\.com/i)?(o=s.pro,r=e.pro):!n.match(/^(localhost|172\.16|127\.0)/i)||"https"!=location.protocol&&"https"!=t?n.match(/^(localhost|172\.16|127\.0)/i)?"https"==t?(o="restful.waptest.ctrip.com",r=e.test):(o=s.test,r=e.test):n.match(/^10\.8\.2\.111/i)?(o=s.pro,r=e.pro):!n.match(/^waptest\.ctrip|^210\.13\.100\.191/i)||"https"!=location.protocol&&"https"!=t?n.match(/^waptest\.ctrip|^210\.13\.100\.191/i)?(o="waptest.ctrip.com",r=e.test):n.match(/^m\.uat/i)?(o=s.uat,r=e.uat):(o=s.test,r=e.test):(o="restful.waptest.ctrip.com",r=e.test):(o="restful.waptest.ctrip.com",r=e.test),{domain:o,path:r}};var n={100:"操作成功",101:"节点数据验证不通过",102:"系统程序错误",201999:"产品不处于可售状态，不能生成订单",201e3:"产品没有供应商,生成订单失败",201001:"产品已团完,生成订单失败",201002:"产品无分销商,生成订单失败",201003:"电话格式不符合规范（例：021-10106666-），未能生成订单",201004:"产品属0元团购，分销联盟不能生成订单",201005:"产品属马上订产品，分销联盟不能生成订单",201006:"超过此产品的最大购买数量，不能生成订单",201007:"小于此产品的最少购买数量，不能生成订单",201008:"本产品携程不开发票，不能生成订单",201009:"发票创建失败，不能生成订单",201010:"发票信息有误，不能生成订单",201012:"本产品每个手机号码仅限购买一次",201011:"产品属0元团购，一个手机号只能预订一次",301e3:"订单取消成功",301001:"订单不属于用户或订单不存在",301002:"订单状态为非新订单",301003:"取消订单失败,订单状态修改失败",301004:"订单删除失败",301005:"订单删除成功",301006:"生成订单失败",301007:"订单状态修改失败",301008:"订单未查到支付记录",301009:"订单不存在",301010:"该订单已在处理中",401e3:"券号或者订单不存在或已更新，券取消失败",401001:"更新订单失败，券取消失败",401002:"更新券号失败，券取消失败",401003:"券使用失败",401004:"现渠道和此张券应属于的渠道不同，不能取消券",401005:"券取消失败",401006:"此张券已使用，不能取消券",401007:"此张券已取消，不能再次取消券",401008:"此张券已作废，不能取消券",401009:"券号已有预约记录,不能使用",401010:"券状态:已过期超过两天,不可使用",401011:"订单类型错误(1为携程收款，2为对方收款)",501e3:"联盟信息错误，无法取消券",501001:"更新联盟信息失败，未能生成订单",501002:"生成券号时发生异常，未能生成订单",601e3:"信用卡发送扣款请求失败",601001:"存在重复流水号",601002:"保存信用卡信息错误",601003:"增加支付记录失败",601004:"调用支付接口失败"},o={},r=6.1;return o.TuanDetailModel=new e.Class(t,{__propertys__:function(){this.url="/json/DetailSearch",this.method="POST",this.param={ext:"",flag:0,id:33483,ver:r},this.result=s.TuanDetailsStore.getInstance()},initialize:function($super,t){$super(t)}}),o.TuanStatusModel=new e.Class(t,{__propertys__:function(){this.url="/json/RoomStatusSearch",this.method="POST",this.param={bdate:"",edate:"",pid:0,ext:"",flag:0,ver:r},this.result=s.TuanStatusStore.getInstance()},initialize:function($super,t){$super(t)}}),o.TuanBranchOfficeModel=new e.Class(t,{__propertys__:function(){this.url="/json/BranchOffice",this.method="POST",this.param={ext:"",flag:0,id:0,ver:r},this.result=s.TuanBranchOfficeStore.getInstance()},initialize:function($super,t){$super(t)}}),o.TuanHotelCommentListModel=new e.Class(t,{__propertys__:function(){this.url="/json/CommentListSearch",this.method="POST",this.param={ext:"",flag:0,hotelId:0,pageIdx:1,ver:r},this.result=s.TuanHotelCommentListStore.getInstance()},initialize:function($super,t){$super(t)}}),o.TuanOrderListModel=new e.Class(t,{__propertys__:function(){this.url="/OrderList/Query",this.method="POST",this.isUserData=!0,this.param={ext:"",flag:0,pageIdx:1,ver:r},this.result=s.TuanOrderListStore.getInstance()},initialize:function($super,t){$super(t)}}),o.TuanOrderDetailModel=new e.Class(t,{__propertys__:function(){this.url="/json/OrderDetailSearch",this.method="POST",this.usehead=!0,this.param={ext:"",flag:0,ver:r},this.result=s.TuanOrderDetailStore.getInstance()},initialize:function($super,t){$super(t)}}),o.TuanSendMsgModel=new e.Class(t,{__propertys__:function(){this.url="/json/MessageSend",this.method="POST",this.usehead=!0,this.param={ext:"",flag:0,ver:r}},initialize:function($super,t){$super(t)}}),o.TuanListModel=new e.Class(t,{__propertys__:function(){this.url="/json/ListSearch",this.method="POST",this.result=s.GroupListStore.getInstance()},initialize:function($super,t){$super(t)}}),o.TuanHotelListModel=new e.Class(t,{__propertys__:function(){this.url="/json/HotelListSearch",this.method="POST",this.result=s.GroupHotelListStore.getInstance()},initialize:function($super,t){$super(t)}}),o.TuanHotListModel=new e.Class(t,{__propertys__:function(){this.url="/json/HotCitySearch",this.method="POST",this.usehead=!0,this.param={ext:"",flag:0,ver:r},this.result=s.GroupHotListStore.getInstance()},initialize:function($super,t){$super(t)}}),o.TuanConditionModel=new e.Class(t,{__propertys__:function(){this.url="/json/ConditionListSearch",this.method="POST",this.param={ver:r},this.result=s.GroupConditionStore.getInstance()},initialize:function($super,t){$super(t)}}),o.TuanCityListModel=new e.Class(t,{__propertys__:function(){this.url="/json/CityListSearch",this.method="POST",this.param={dataVer:99,ver:r},this.result=s.TuanCityListStore.getInstance()},initialize:function($super,t){$super(t)}}),o.TuanKeyWordListModel=new e.Class(t,{__propertys__:function(){this.url="/json/KeywordSearch",this.method="POST",this.param={},this.result=s.TuanKeyWordListStore.getInstance()},initialize:function($super,t){$super(t)}}),o.TuanLocalCityInfo=new e.Class(t,{__propertys__:function(){this.url="/json/SearchCityIdByLat",this.param={},this.method="POST",this.result=s.TuanLocalCityInfoStore.getInstance()},initialize:function($super,t){$super(t)}}),o.TuanCreateOrder=new e.Class(t,{__propertys__:function(){this.url="/json/CreateOrder",this.param={ver:r},this.method="POST"},initialize:function($super,t){$super(t)},getErrorMessage:function(t){var e=t&&t.ErrorCode,s=t&&t.Message||"";return n[e]||s}}),o.TuanSubmitOrder=new e.Class(t,{__propertys__:function(){this.url="/json/SubmitOrder",this.param={},this.method="POST"},initialize:function($super,t){$super(t)}}),o.TuanApplyOrder=new e.Class(t,{__propertys__:function(){this.url="/json/PaymentApply",this.param={},this.method="POST"},initialize:function($super,t){$super(t)}}),o.TuanRetryPayment=new e.Class(t,{__propertys__:function(){this.usehead=!0,this.url="/json/ContinueToPay",this.param={ver:r},this.method="POST"},initialize:function($super,t){$super(t)}}),o.BannerSearch=new e.Class(t,{__propertys__:function(){this.usehead=!0,this.url="/json/bannersearch",this.param={ver:r},this.method="POST"},initialize:function($super,t){$super(t)}}),o.TuanRefundlTicketModel=new e.Class(t,{__propertys__:function(){this.usehead=!0,this.url="/json/cancelticket",this.param={ver:r},this.method="POST"},initialize:function($super,t){$super(t)}}),o.TuanCancelOrderModel=new e.Class(t,{__propertys__:function(){this.usehead=!0,this.url="/json/OrderCancel",this.param={},this.method="POST"},initialize:function($super,t){$super(t)}}),o.TuanDeleteOrderModel=new e.Class(t,{__propertys__:function(){this.usehead=!0,this.url="/json/OrderDelete",this.param={},this.method="POST"},initialize:function($super,t){$super(t)}}),o.TuanImagesListModel=new e.Class(t,{__propertys__:function(){this.url="/json/ProductPictures",this.param={},this.method="POST",this.result=s.TuanImagesListStore.getInstance()}}),o.TuanPOIListModel=new e.Class(t,{__propertys__:function(){this.url="/json/POISearch",this.param={ver:r},this.method="POST",this.result=s.TuanPOIListStore.getInstance()}}),o.TuanNearListModel=new e.Class(t,{__propertys__:function(){this.url="/json/NearGroup",this.param={},this.method="POST",this.result=s.TuanNearListStore.getInstance()}}),o.TuanStrategyIDModel=new e.Class(t,{__propertys__:function(){this.url="/json/Destination",this.param={},this.method="POST",this.result=s.TuanStrategyIDStore.getInstance()}}),o.TuanValidateCouponModel=new e.Class(t,{__propertys__:function(){this.url="/json/ValidateCoupon",this.param={},this.method="POST"}}),o.TuanCouponListModel=new e.Class(t,{__propertys__:function(){this.url="/json/CouponList",this.param={ver:r},this.method="POST",this.result=s.TuanCouponListStore.getInstance()}}),o.ColaDrawModel=new e.Class(t,{__propertys__:function(){this.url="/json/GetPrizeResultService",this.param={},this.method="POST"}}),o.ColaAddPrizeModel=new e.Class(t,{__propertys__:function(){this.url="/json/SetPrizeToUser",this.param={},this.method="POST"}}),o.TuanAddFavorite=new e.Class(t,{__propertys__:function(){this.url="/json/FavoriteAdd",this.param={},this.method="POST"}}),o.TuanDelFavorite=new e.Class(t,{__propertys__:function(){this.url="/json/FavoriteDelete",this.param={},this.method="POST"}}),o.TuanHotKeywordsModel=new e.Class(t,{__propertys__:function(){this.url="/json/SearchHotWord",this.method="POST",this.param={cityid:0},this.result=s.TuanHotKeywords.getInstance()},initialize:function($super,t){$super(t)}}),o.TuanRegionInfoModel=new e.Class(t,{__propertys__:function(){this.url="/json/ExpressCity",this.method="POST",this.param={},this.result=s.TuanRegionInfoStore.getInstance()},initialize:function($super,t){$super(t)}}),o.CrossRecommendModel=new e.Class(t,{__propertys__:function(){this.url="/json/ProductRecommend",this.method="POST",this.param={ver:r}},initialize:function($super,t){$super(t)}}),o.BannerClassModel=new e.Class(t,{__propertys__:function(){this.url="/json/BannerClass",this.method="POST",this.param={},this.result=s.BannerClassStore.getInstance()},initialize:function($super,t){$super(t)}}),o.TicketBookingModel=new e.Class(t,{__propertys__:function(){this.url="/json/TicketBooking",this.method="POST",this.param={},this.result=s.TicketBookingStore.getInstance()},initialize:function($super,t){$super(t)}}),o});
define(["libs"],function(){function n(n){var t=this,i=null,o=function(){};t.options={dom:i,rules:i,onCheck:o,required:!0,triggerEvent:""},t.options=r(t.options,n||{}),t.dom=t.options.dom,t.initialize()}var r=$.extend;return n.prototype={initialize:function(){var n=this,r=n.options.triggerEvent,t=n.dom;n.required=n.options.required,t&&t[0]&&(n.__blurHandler=function(){n.check()},r&&t.on(r,n.__blurHandler))},constructor:n,check:function(){var n,r,t=this.dom,i=t&&t.val()||"",o=this.options,e=o.rules,s=1,u=0,l=this.required,c=$.isFunction;for(!Array.isArray(e)&&(e=[e]),r=e.length;r>u&&(n=e[u],!l&&!i||(s&=c(n)?n(i):n.test(i)));u++);return o.onCheck.call(this,!!s,{val:i,dom:t,rule:u}),s||!l},destroy:function(){var n=this,r=n.dom;return r&&r.off(n.options.triggerEvent,n.__blurHandler),!0}},n});
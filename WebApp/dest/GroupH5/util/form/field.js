define(["libs"],function(){function t(t){var n=this,r=null,i=function(){};n.options={dom:r,rules:r,onCheck:i,required:!0,triggerEvent:""},n.options=e(n.options,t||{}),n.dom=n.options.dom,n.initialize()}var e=$.extend;return t.prototype={initialize:function(){var e=this,t=e.options.triggerEvent,n=e.dom;e.required=e.options.required;if(!n||!n[0])return;e.__blurHandler=function(){e.check()},t&&n.on(t,e.__blurHandler)},constructor:t,check:function(){var e=this.dom,t=e&&e.val()||"",n=this.options,r=n.rules,i=1,s=0,o,u=this.required,a,f=$.isFunction;!Array.isArray(r)&&(r=[r]),a=r.length;for(;s<a;s++){o=r[s];if(!u&&!t)continue;if(!(i&=f(o)?o(t):o.test(t)))break}return n.onCheck.call(this,!!i,{val:t,dom:e,rule:s}),i||!u},destroy:function(){var e=this,t=e.dom;return t&&t.off(e.options.triggerEvent,e.__blurHandler),!0}},t});
define(["cBase","cUICore","cWidgetFactory","libs"],function(e,t,n){function u(e){return e===Object(e)}var r="POIWidget",i=function(){},s=null,o;o=new e.Class({__propertys__:function(){this.options={model:s,source:3,params:{},onSuccess:i,onError:i}},initialize:function(e){var t;u(e)&&(this.options=$.extend(this.options,e)),t=this.options,this.model=t.model},query:function(e,t,n,r){var i=this,s=i.options,a=s.params;u(t)&&(t=$.extend(a,t)),a.posty=s.source,a.ctype=e||o.ALL,this.model.setParam(t),this.model.excute(function(e){(n||s.onSuccess).call(i,e)},function(e){(r||s.onError).call(i,e)},!1,i)},abort:function(){this.options.model.abort()}}),o.ALL=0,o.HOTEL=1,o.CATERING=2,o.VACATION=3,o.TICKIT=4,n.register({name:r,fn:o})});